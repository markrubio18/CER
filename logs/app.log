{"level":"info","message":"Starting server in production mode","timestamp":"2025-09-06T06:34:17.120Z","metadata":{"port":3000,"hostname":"0.0.0.0","nodeEnv":"production","databaseUrl":"configured","service":"server"}}
{"level":"info","message":"Preparing Next.js app...","timestamp":"2025-09-06T06:34:17.120Z","metadata":{"service":"server"}}
{"level":"info","message":"Initializing system services...","timestamp":"2025-09-06T06:34:17.372Z","metadata":{"service":"server"}}
{"level":"info","message":"Initializing system...","timestamp":"2025-09-06T06:34:17.372Z"}
{"level":"info","message":"Default admin user already exists","timestamp":"2025-09-06T06:34:17.570Z","metadata":{"username":"admin","service":"auth"}}
{"level":"info","message":"Notification scheduler started","timestamp":"2025-09-06T06:34:17.570Z","metadata":{"service":"notification"}}
{"level":"info","message":"Creating self-signed demo CA on startup","timestamp":"2025-09-06T06:34:17.573Z","metadata":{"service":"ca"}}
{"level":"error","message":"Failed to create demo CA on startup","timestamp":"2025-09-06T06:34:17.671Z","metadata":{"error":"Cannot read properties of undefined (reading 'length')","stack":"TypeError: Cannot read properties of undefined (reading 'length')\n    at util.ByteStringBuffer.putBytes (/home/ubuntu/Desktop/CER/node_modules/node-forge/lib/util.js:288:41)\n    at asn1.toDer (/home/ubuntu/Desktop/CER/node_modules/node-forge/lib/asn1.js:711:15)\n    at pki.certificateExtensionToAsn1 (/home/ubuntu/Desktop/CER/node_modules/node-forge/lib/x509.js:2607:18)\n    at pki.certificateExtensionsToAsn1 (/home/ubuntu/Desktop/CER/node_modules/node-forge/lib/x509.js:2574:24)\n    at pki.getTBSCertificate (/home/ubuntu/Desktop/CER/node_modules/node-forge/lib/x509.js:2487:24)\n    at cert.sign (/home/ubuntu/Desktop/CER/node_modules/node-forge/lib/x509.js:1141:31)\n    at SystemInitializer.ensureDemoCA (/home/ubuntu/Desktop/CER/src/lib/init.ts:2:6860)\n    at async SystemInitializer.initialize (/home/ubuntu/Desktop/CER/src/lib/init.ts:2:1750)\n    at async createCustomServer (/home/ubuntu/Desktop/CER/server.ts:2:2247)","service":"ca"}}
{"level":"info","message":"System initialization completed successfully","timestamp":"2025-09-06T06:34:17.671Z"}
{"level":"info","message":"Starting CRL scheduler...","timestamp":"2025-09-06T06:34:17.671Z","metadata":{"intervalHours":24,"runOnStartup":true,"intervalMs":86400000}}
{"level":"info","message":"Server ready","timestamp":"2025-09-06T06:34:17.673Z","metadata":{"httpUrl":"http://0.0.0.0:3000","wsUrl":"ws://0.0.0.0:3000/api/socketio","environment":"production","databaseConfigured":true,"socketConnections":0,"service":"server"}}
{"level":"info","message":"No active CA found, skipping initial CRL generation","timestamp":"2025-09-06T06:34:22.677Z"}
